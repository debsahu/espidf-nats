# NATS Server with WebSocket Configuration
# For ESP-IDF NATS client WebSocket testing

server_name: nats-websocket
port: 4222

# HTTP monitoring
http_port: 8222

# WebSocket configuration
websocket {
    port: 9222
    no_tls: true
}

# JetStream enabled for full testing
jetstream {
    store_dir: /data
    max_memory_store: 1G
    max_file_store: 10G
}

# Logging
debug: false
trace: false
logtime: true

# Connection limits
max_connections: 100
max_control_line: 4096
max_payload: 1048576  # 1MB

# Ping interval (2 minutes)
ping_interval: "2m"
ping_max: 3

# Write deadline
write_deadline: "10s"

# No authentication for testing
authorization {
    timeout: 1
}
